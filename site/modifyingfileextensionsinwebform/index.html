<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="The Digital Services Team at Metropolitan New York Library Council" /><link rel="canonical" href="http://docs.archipelago.nyc/modifyingfileextensionsinwebform/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Customizing Webforms (Modifying allowable file extensions) - Pala Archipelago Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Customizing Webforms (Modifying allowable file extensions)";
        var mkdocs_page_input_path = "modifyingfileextensionsinwebform.md";
        var mkdocs_page_url = "/modifyingfileextensionsinwebform/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../images/dhammacakka.png" class="logo" alt="Logo"/>
        </a>
        <div class="version">
          {'provider': 'mike', 'default': 'default'}
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">About Archipelago</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ourtake/">Archipelago's Philosophy & Guiding Principles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../strawberryfields/">Strawberryfields Forever</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../devops/">Software Services</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CODE_OF_CONDUCT/">Code of Conduct</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Instructions and Guides</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="#">Archipelago-Deployment</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-readme/">Start</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-osx/">Installing Archipelago Drupal 9 on OSX (macOS)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-ubuntu/">Installing Archipelago Drupal 9 on Ubuntu 18.04 or 20.04</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-democontent/">Adding Demo Archipelago Digital Objects (ADOs) to your Repository</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-upgradeFromD8ToD9/">Upgrading Drupal 8 to Drupal 9 (1.0.0-RC2 to 1.0.0-RC3)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Archipelago-Deployment-Live</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-live-readme/">Start</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-live-gitworkflow/">Github Workflow</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-live-moveToLive/">Moving from archipelago-deployment to archipelago-deployment-live</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../archipelago-deployment-live-upgradeFromD8ToD9/">Upgrading Drupal 8 to Drupal 9 (1.0.0-RC2 to 1.0.0-RC3)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Archipelago 101</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Digital Objects and Collections, Metadata, General Workflows</a>
    <ul class="current">
                <li class="toctree-l3"><a class="reference internal" href="../firstobject/">Ingesting Your First Object</a>
                </li>
                <li class="toctree-l3 current"><a class="reference internal current" href="#">Webforms in Archipelago</a>
    <ul class="current">
                <li class="toctree-l4"><a class="reference internal" href="../webforms/">Webforms</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../webformsasinput/">How to Create a Webform as an Input Method for Archipelago Digital Objects (ADO)</a>
                </li>
                <li class="toctree-l4 current"><a class="reference internal current" href="./">Customizing Webforms (Modifying allowable file extensions)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../customwebformelements/">Archipelago Custom Webform Elements</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="#">Twig Templates and Archipelago</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../metadatatwigs/">Twig Templates and Archipelago</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../workingtwigs/">Working With Twig in Archipelago (getting started with custom Twig templates)</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="#">Archipelago Multi-Importer (AMI)</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../ami_index/">Archipelago Multi-Importer (AMI)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="#">AMI Instructions and Guides</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../annotations/">Annotations</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Site Administration & Configuration</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../strawberryfield-formatters/">Strawberryfield Formatters</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../createdisplaymodes/">Creating Display Modes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../archifilepersistencestrategy/">Archipelago's File Persistence Strategy</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../sslsetup/">How to Set Up SSL for Docker/Archipelago</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../xdebug/">Debugging PHP in Archipelago</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">General Q&A</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../generalqa_index/">General Q&A</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../generalqa_twig_modules_configuration/">Twig Modules Configuration</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../generalqa_smtp_configuration/">SMTP Configuration</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../generalqa_minio_logging/">Min.io Logging</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Additional Information</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../presentations_docs/">Archipelago Presentations and Documents</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../inthewild/">Archipelagos in the Wild</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../giveortake/">Contribution Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../about/">About This Documentation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../acknowledgments/">Care & Coding + Fixing / Acknowledgments / License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Pala Archipelago Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Instructions and Guides &raquo;</li>
          <li>Archipelago 101 &raquo;</li>
          <li>Digital Objects and Collections, Metadata, General Workflows &raquo;</li>
          <li>Webforms in Archipelago &raquo;</li>
      <li>Customizing Webforms (Modifying allowable file extensions)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="customizing-webforms-modifying-allowable-file-extensions">Customizing Webforms: Modifying allowable file extensions</h1>
<p>A guide to walk users through how to modify the Webform <code>Descriptive Metadata</code> to allow additional file extensions to be ingested into Archipelago. This is the default Webform with Archipelago by following <a href="https://github.com/esmero/archipelago-deployment">archipelago-deployment</a>.</p>
<h2 id="context">Context</h2>
<p>When creating an Archipelago Digital Object (ADO), on Step 4 of the ingest, <code>Attach Files</code>, there is a step during the ingest to upload the files associated with your ADO. There will be a section on the Webform outlining the maximum number of files allowed, the maximum file size allowed, and the allowed file extensions that can be uploaded.</p>
<p>Let's say we are creating an ADO with the media type <code>DigitalDocument</code> and this ADO contains a data set saved as a <code>csv</code> file, but when we get to Step 4 of the ingest workflow we find that <code>csv</code> is not an allowed file extension. Fortunately, Archipelago has no restrictions on what file extensions can be uploaded, but some use cases will require a little configuring to fit a specific need. This guide will walk users through the steps to modify the default Webform, <code>Descriptive Metadata</code>, to allow additional file extensions to be included during an ingest.</p>
<p><strong>Prerequisites for following this guide:</strong></p>
<ul>
<li>Running instance of Archipelago (on http://localhost:8001 if you followed the <a href="quickstart.md#archipelago-docker-deployment">deployment guide</a> verbatim)</li>
<li>Admin credentials</li>
</ul>
<h2 id="lets-begin">Let's begin!</h2>
<h3 id="managing-webforms">Managing Webforms</h3>
<p>Once logged in as <code>admin</code>, the first thing we need to do is navigate to the Webforms page so we can edit the Webform <code>Descriptive Metadata.</code> Click on <code>Manage</code>, then <code>Structure</code> and when the page loads, scroll down and click <code>Webforms</code>.</p>
<p><img alt="Manage &gt; Structure &gt; Webforms" src="../images/modifyingfileextensionsinwebform/02_manage-structure-webforms.jpg" /></p>
<p>This is where all of the Webforms inside your Archipelago live. For this guide we're going to edit the Webform <code>Descriptive Metadata</code>. Go ahead and click <code>Build</code> under the <code>OPERATIONS</code> column for <code>Descriptive Metadata</code>.</p>
<p><img alt="Descriptive Metadata" src="../images/modifyingfileextensionsinwebform/03_webform-page.jpg" /></p>
<h3 id="step-3-editing-elements">Step 3: Editing Elements</h3>
<p>Here we see all of the elements in <code>Descriptive Metadata</code>; <em>Title</em>, <em>Media type</em>, <em>Description</em>, <em>Linked Data</em> elements, etc. The element that we want to edit is <code>Upload Associated Documents</code> as this is the field you will use to upload <code>pdf</code>, <code>doc</code>, <code>rtf</code>, <code>txt</code>, etc. files during the ingest workflow. Click on <code>Edit</code> under the <code>OPERATIONS</code> column.</p>
<p><img alt="Upload Associated Documents element" src="../images/modifyingfileextensionsinwebform/04_upload-associated-documents.jpg" /></p>
<p>A new screen will pop up named <code>Edit Upload Associated Documents element</code>. This is where you can configure the maximum number of values (under <code>ELEMENT SETTINGS</code>), the maximum file size and also edit the allowed file extensions for this element, which is what we'll be doing. The latter both exist under <code>FILE SETTINGS</code> section, highlighted in the screenshot below.</p>
<p><img alt="Edit Upload Associated Documents element" src="../images/modifyingfileextensionsinwebform/05_edit-upload-associated-documents-element.jpg" /></p>
<p>When you scroll down you'll see the <code>Allowed file extensions</code> field. This is where we will add the <code>csv</code> file extension. <strong>Please note:</strong> All file extensions are separated by a space; no <code>,</code> or <code>.</code> between the values.</p>
<p>Once you've added all the file extensions your project needs, scroll down to the bottom of <code>Edit Upload Associated Documents element</code> and click <code>Save</code>.</p>
<p><img alt="Add csv" src="../images/modifyingfileextensionsinwebform/06_add-csv.jpg" /></p>
<p><strong>This next step is imperative for saving your changes</strong>, scroll to the bottom of your elements list page and click <code>Save elements</code> in order to persist all changes made.</p>
<p><img alt="Save Elements" src="../images/modifyingfileextensionsinwebform/07_save-elements.jpg" /></p>
<h3 id="complete">Complete</h3>
<p>Woohoo! Now when you are ingesting a <code>DigitalDocument</code> object, you will be able to add <code>csv</code> files! üçì</p>
<p><img alt="Complete" src="../images/modifyingfileextensionsinwebform/08_complete.jpg" /></p>
<h3 id="recap">Recap</h3>
<p>When logged in as an admin, we go to <em>Manage &gt; Structure &gt; Webforms</em> and click on <code>Build</code> under the <code>OPERATIONS</code> column of <code>Descriptive Metadata</code> (shortcut: /admin/structure/webform/manage/descriptive_metadata). Then we click on <code>Upload Associated Documents</code> to edit the element, scroll down to the <em>Allowed file extensions</em> field and add <code>csv</code> without <code>.</code> or <code>,</code> separating the values. Click <code>Save</code> at the bottom of the <code>Edit Upload Associated Documents element</code> page and then <code>Save elements</code> at the bottom of the Webform page.</p>
<h3 id="that-was-helpful-but">That was helpful, but...</h3>
<details class="info">
<summary>How do I upload a <code>wav</code> or <code>aiff</code> file for "MusicRecording" or an <code>mov</code> file for a \"Movie\"?</summary>
<p>The steps are virtually the same as what is outlined in this guide! The difference here is that instead of editing <code>Upload Associated Documents</code>, you will need to edit the field element that is associated with your ADO's media type. For example, with Media type <code>MusicRecording</code>, you will edit <code>Upload Audio File</code>, for <code>Movie</code>, will edit <code>Videos</code>.</p>
</details>
<details class="info">
<summary>How do I know which element in Descriptive Metadata to edit per media type?</summary>
<p>When editing an element inside <code>Descriptive Metadata</code>, at the top of the window <code>Edit Upload Associated Documents element</code> (see Step 3 for a recap on how to get here) there is a tab next to <code>General</code> titled <code>Conditions</code>. Inside of <code>Conditions</code> we have <code>CONDITIONAL LOGIC</code> which is where the Webform is told which <code>Media type</code> needs this element to be visible in the Webform. In the example below, we know that the field element <code>Upload Associated Documents</code> will be visible when <code>DigitalDocument</code>, <code>Thesis</code> and <code>Book</code> are the selected <code>Media type</code>.</p>
<p>This is also the place you can add new logic or delete present logic by clicking the <code>+</code> or <code>-</code> next to the <code>TRIGGER/VALUE</code> to create new conditionals.</p>
<p><img alt="Conditionals" src="../images/modifyingfileextensionsinwebform/09_conditionals.jpg" /></p>
</details>
<hr />
<p>Thank you for reading! Please contact us on our <a href="https://groups.google.com/forum/#!forum/archipelago-commons">Archipelago Commons Google Group</a> with any questions or feedback.</p>
<p>Return to the <a href="..">Archipelago Documentation main page</a>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../webformsasinput/" class="btn btn-neutral float-left" title="How to Create a Webform as an Input Method for Archipelago Digital Objects (ADO)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../customwebformelements/" class="btn btn-neutral float-right" title="Archipelago Custom Webform Elements">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../webformsasinput/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../customwebformelements/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
      <script src="../js/version-select.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
